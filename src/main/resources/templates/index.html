<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>SnakeNLadder</title>
    <meta charset="ISO-8859-1">
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <link rel="stylesheet" href="/css/home.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
</head>
<body onload="noBack();" onpageshow="if (event.persisted) noBack();" onunload="">
<div>
<h2 style="text-align: center;"><U>Snake-N-Ladder</U></h2>
<img class="homeSnake" src="/images/snakeNLadder.PNG">
</div>
<br/>
<div class="details">
    <h2><u>Enter Player Details to Begin:</u></h2>
        <p>Player-1 Name :
        <input type="text" id="player1Name">
        </p>
        <p>Player-2 Name :
            <input type="text" id="player2Name">
        </p>
        <p>Player-3 Name :
            <input type="text" id="player3Name">
        </p>
        <p>Player-4 Name :
            <input type="text" id="player4Name">
        </p>
        <button id="playerDetails" style="text-align: center;">Play</button>
</div>

<script type="text/javascript">
window.history.forward();
    function noBack() {
        window.history.forward();
    }
</script>
<script type="text/javascript">
$(document).ready(function () {
    $("#playerDetails").click(function() {
      const playerNames = [];
       playerNames[0]= $("#player1Name").val().trim();
       playerNames[1]= $("#player2Name").val().trim();
       playerNames[2]= $("#player3Name").val().trim();
       playerNames[3]= $("#player4Name").val().trim();

        if(playerNames.at(0) == '' ||  playerNames.at(1) == '' || playerNames.at(2) == '' || playerNames.at(3) == '' ) {
            alert("Please Enter all 4 Player Names to proceed further");
            return false;
        }

      $.ajax({
       type : "POST",
       contentType : "application/json",
       url : "/initiate",
       data : JSON.stringify(playerNames),
       dataType : 'json',
       cache : false,
       timeout : 600000,
       success : function(data) {
            window.location.replace("http://localhost:8080/play");
       },
       error : function(e) {
        alert(e);
       }
      });
    });
   });
  </script>
</body>
</html>